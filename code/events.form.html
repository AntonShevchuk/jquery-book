<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
  <meta charset="UTF-8"/>
  <title>События формы</title>
  <link rel="shortcut icon" href="../favicon.ico"/>
  <link rel="stylesheet" href="styles.css"/>
  <style>
    /* button */
    button {
      display: block;
      margin: 8px auto;
      border: none;
      background: transparent;
      cursor: pointer;
      text-decoration: underline;
      font-size: 2em;
    }
    button:hover {
      color: #4183c4;
      text-decoration: underline;
    }
  </style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"
          integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
  <script>
    function updateCounter(ev) {
      let el = '#' + ev.type;
      console.log(ev.type);
      let counter = $(el).text();
      if (counter === '') counter = 0;
      $(el).text(++counter);
      return true;
    }

    $(function(){

      $('#target')
        .on('focusin', 'input, select, textarea', updateCounter)
        .on('focusout', 'input, select, textarea', updateCounter)
        .on('change', 'input, select, textarea', updateCounter)
        .on('keydown', 'input, textarea', updateCounter)
        .on('keypress', 'input, textarea', updateCounter)
        .on('keyup', 'input, textarea', updateCounter)
        .on('select', 'input, textarea', updateCounter)
        .on('submit', function(ev) {
          updateCounter(ev);
          return false;
        })
      ;
    });
  </script>
</head>
<body>
  <section id="content">
    <article class="box">
      <h3>Cобытия элементов формы</h3>
      <dl>
        <dt><div><code>focusin</code></div> — фокус на элементе</dt>
        <dd id="focusin">0</dd>
        <dt><div><code>focusout</code></div> — фокус ушёл с элемента</dt>
        <dd id="focusout">0</dd>
        <dt><div><code>change</code></div> — что-то изменилось</dt>
        <dd id="change">0</dd>
        <dt><div><code>keydown</code></div> — нажали кнопочку</dt>
        <dd id="keydown">0</dd>
        <dt><div><code>keypress</code></div> — держим кнопочку</dt>
        <dd id="keypress">0</dd>
        <dt><div><code>keyup</code></div> — отпустили</dt>
        <dd id="keyup">0</dd>
        <dt><div><code>select</code></div> — выбрали текст</dt>
        <dd id="select">0</dd>
        <dt><div><code>submit</code></div> — отправка формы</dt>
        <dd id="submit">0</dd>
      </dl>
    </article>
    <article class="box">
      <h3>Изменяйте всё что можно!</h3>
      <form id="target" action="">
        <fieldset>
          <label><input id="text" type="text" name="text" value=""/></label>
        </fieldset>
        <fieldset>
          <label><input id="checkbox" type="checkbox" name="checkbox" value="1"/> чекбокс</label>
          <label><input id="radio-one" type="radio" name="radio" value="1"/> радио один</label>
          <label><input id="radio-two" type="radio" name="radio" value="2"/> второе радио</label>
        </fieldset>
        <fieldset>
          <label>
          <select>
            <option>Раз</option>
            <option>Два</option>
            <option>Три</option>
          </select>
            ... Четыре, Пять ...
          </label>
        </fieldset>
        <fieldset>
          <textarea>Sed rutrum accumsan ultricies. Nunc iaculis enim vel augue porta pellentesque.
Nunc efficitur ex non ullamcorper ultricies. Nunc tempus vulputate enim,
non egestas orci sodales eget. Morbi congue mi ac vehicula egestas.
Ut imperdiet metus lectus, in elementum quam viverra vel.
Suspendisse egestas cursus nibh, vitae lobortis ipsum congue sit amet.</textarea>
        </fieldset>
        <button type="submit">Отправляем</button>
      </form>
    </article>
  </section>
</body>
</html>